{% extends 'reports/base.html' %}

{% load report_tags %}

{% load humanize %}

{% block title %}Sistema Financiero y BBVA{% endblock %}

{% block content %}

<h1 class="page-header">Sistema Financiero y BBVA</h1>
<div class="form-inline">
	<input type="hidden" id="csrfmiddlewaretoken" value="{{csrf_token}}">
</div>
&nbsp;
<div class="rows placeholders">
	<div id="chartContainer1" style="height: 300px; width: 100%;"></div>
</div>
&nbsp;
<div class="rows placeholders">
	<div id="chartContainer2" style="height: 300px; width: 100%;"></div>
</div>


{% endblock %}

{% block script_final %}
  <script type="text/javascript">
    window.onload = function () {
	var chart1 = new CanvasJS.Chart("chartContainer1", {
		theme: "theme2",//theme1
		title:{
			text: "Formalizados por Producto"              
		},
		animationEnabled: true,   // change to true

		data: [ 
		{
			// Change type to "bar", "area", "spline", "pie",etc.
			type: "column",
			indexLabel: "{z}",
			zValueFormatString: "#0.0#",
			name: "2015",
			indexLabelFontColor: "#89D1F3",
			color: "#89D1F3",			
			showInLegend: "true",
			dataPoints: [
			{% for a in form_producto2015 %} 			
				{ label: "{{a.producto}}",  y: {{a.cantidad}}, z: {{a.factura}}  },
		    {% endfor %}
			]

		},
		{
			// Change type to "bar", "area", "spline", "pie",etc.
			type: "column",
			indexLabel: "{z}",
			zValueFormatString: "#0.0#",
			name: "2016",
			indexLabelFontColor: "#094FA4",
			color: "#094FA4",			
			showInLegend: "true",
			dataPoints: [
			{% for a in form_producto2016 %} 			
				{ label: "{{a.producto}}",  y: {{a.cantidad}}, z: {{a.factura}}   },
		    {% endfor %}
			]

		},
		]
	});
	chart1.render();

	var chart2 = new CanvasJS.Chart("chartContainer2", {
		theme: "theme2",//theme1
		title:{
			text: "Mora12 por Cluster y Producto"              
		},
		animationEnabled: true,   // change to true

		data: [ 
		{
			// Change type to "bar", "area", "spline", "pie",etc.
			type: "line",
			//indexLabel: "{z}",
			//zValueFormatString: "#0.0#",
			name: "Progresistas",
			indexLabelFontColor: "#89D1F3",
			color: "#89D1F3",			
			showInLegend: "true",
			dataPoints: [
			{% for a in mora_productoxprogre %} 			
				{ label: "{{a.producto}}",  y: {{a.mora}}*100/{{a.cuentas}}  },
		    {% endfor %}
			]

		},
		{
			// Change type to "bar", "area", "spline", "pie",etc.
			type: "line",
			//indexLabel: "{z}",
			//zValueFormatString: "#0.0#",
			name: "Aspirantes",
			indexLabelFontColor: "#094FA4",
			color: "#094FA4",			
			showInLegend: "true",
			dataPoints: [
			{% for a in mora_productoxaspi %} 			
				{ label: "{{a.producto}}",  y: {{a.mora}}*100/{{a.cuentas}}  },
		    {% endfor %}
			]

		},
		{
			// Change type to "bar", "area", "spline", "pie",etc.
			type: "line",
			//indexLabel: "{z}",
			//zValueFormatString: "#0.0#",
			name: "Pr√≥speros",
			indexLabelFontColor: "#86C82D",
			color: "#86C82D",			
			showInLegend: "true",
			dataPoints: [
			{% for a in mora_productoxprospe %} 			
				{ label: "{{a.producto}}",  y: {{a.mora}}*100/{{a.cuentas}}  },
		    {% endfor %}
			]

		},
		]
	});
	chart2.render();

	
    }
  </script>
{% endblock %}

