{% extends 'reports/base.html' %}

{% load report_tags %}

{% load humanize %}

{% block title %}Altas Empresas{% endblock %}

{% block content %}

          <h1 class="page-header">Altas Empresas</h1>
          <div class="form-inline">
            <input type="hidden" id="csrfmiddlewaretoken" value="{{csrf_token}}">
          </div>
          <div class="rows placeholders">
		<div id="chartContainer9" style="height: 250px; width: 100%;"></div>
          </div>
          <div class="rows placeholders">
		<div id="chartContainer" style="height: 350px; width: 30%; display: inline-block;"></div>
		<div id="chartContainer2" style="height: 350px; width: 30%; display: inline-block;"></div>
		<div id="chartContainer3" style="height: 350px; width: 30%; display: inline-block;"></div>
          </div>
	  <div>
	  <center>
	  <font color="#89D1F3">■ </font><font color="#094FA4" size=2>Con Oferta TDC >= SF</font>&nbsp;&nbsp;&nbsp;
	  <font color="#009EE5">■ </font><font color="#094FA4" size=2>Con Oferta TDC <' SF</font>&nbsp;&nbsp;&nbsp;
	  <font color="#094FA4">■ </font><font color="#094FA4" size=2>Sin Oferta TDC</font>
	  </center>
	  </div>
          <div class="rows placeholders">
		<div id="chartContainer4" style="height: 350px; width: 30%; display: inline-block;"></div>
		<div id="chartContainer5" style="height: 350px; width: 30%; display: inline-block;"></div>
		<div id="chartContainer6" style="height: 350px; width: 30%; display: inline-block;"></div>
          </div>
          <h2 class="page-header">Altas por Segmento</h2>
          <div class="rows placeholders">
		<div id="chartContainer7" style="height: 250px; width: 50%; display: inline-block;"></div>
		<div id="chartContainer8" style="height: 250px; width: 50%; display: inline-block;"></div>
          </div>

{% endblock %}


{% block script_final %}
  <script type="text/javascript">
    window.onload = function () {
	var chart = new CanvasJS.Chart("chartContainer", {
		theme: "theme2",//theme1
		//backgroundColor: "#B5E5F9",
		title:{
			text: "Set 15",
			verticalAlign: "bottom",
                },
		axisX:{
			labelAngle: 91,
                },
		axisY:{
			interval: 3500,
			labelFontColor: "white",
			gridThickness: 0,
			tickColor: "white",
                },
		animationEnabled: true,   // change to true
		data: [              
		{
			// Change type to "bar", "area", "spline", "pie",etc.
			type: "stackedColumn",
			//name: "{{i.empresa}}",
			//showInLegend: "true",
			dataPoints: [
				{% for i in alta1_m1 %}
				{   y: {{i.num_alta1}}, label: "{{i.empresa}}"  },
				 {% endfor %}
			]
		},
		{
			// Change type to "bar", "area", "spline", "pie",etc.
			type: "stackedColumn",
			//name: "{{i.empresa}}",
			//showInLegend: "true",
			dataPoints: [
				{% for i in alta2_m1 %}
				{   y: {{i.num_alta2}}, label: "{{i.empresa}}"  },
				 {% endfor %}
			]
		},
		{
			// Change type to "bar", "area", "spline", "pie",etc.
			type: "stackedColumn",
			//name: "{{i.empresa}}",
			//showInLegend: "true",
			dataPoints: [
				{% for i in alta3_m1 %}
				{   y: {{i.num_alta3}}, label: "{{i.empresa}}"  },
				 {% endfor %}
			]
		},
		{
			// Change type to "bar", "area", "spline", "pie",etc.
			type: "scatter",
			//name: "{{i.empresa}}",
			color : "#094FA4",
			indexLabel : "-  {y}",
			indexLabelPlacement : "outside",
			indexLabelOrientation: "vertical",
			indexLabelFontColor : "#094FA4",
			//showInLegend: "true",
			dataPoints: [
				{% for i in alta_m1 %}
				{   y: {{i.num_alta}}, label: "{{i.empresa}}"  },
				 {% endfor %}
			]
		},
		]
	});
	chart.render();

	var chart = new CanvasJS.Chart("chartContainer2", {
		theme: "theme2",//theme1

		title:{
			text: "Oct 15",
			verticalAlign: "bottom",
                },
		axisX:{
			labelAngle: 91,
                },
		axisY:{
			interval: 3800,
			labelFontColor: "white",
			gridThickness: 0,
			tickColor: "white",
                },
		animationEnabled: true,   // change to true
		data: [              
		{
			// Change type to "bar", "area", "spline", "pie",etc.
			type: "stackedColumn",
			//name: "{{i.empresa}}",
			//showInLegend: "true",
			dataPoints: [
				{% for i in alta1_m2 %}
				{   y: {{i.num_alta1}}, label: "{{i.empresa}}"  },
				 {% endfor %}
			]
		},
		{
			// Change type to "bar", "area", "spline", "pie",etc.
			type: "stackedColumn",
			//name: "{{i.empresa}}",
			//showInLegend: "true",
			dataPoints: [
				{% for i in alta2_m2 %}
				{   y: {{i.num_alta2}}, label: "{{i.empresa}}"  },
				 {% endfor %}
			]
		},
		{
			// Change type to "bar", "area", "spline", "pie",etc.
			type: "stackedColumn",
			//name: "{{i.empresa}}",
			//showInLegend: "true",
			dataPoints: [
				{% for i in alta3_m2 %}
				{   y: {{i.num_alta3}}, label: "{{i.empresa}}"  },
				 {% endfor %}
			]
		},
		{
			// Change type to "bar", "area", "spline", "pie",etc.
			type: "scatter",
			//name: "{{i.empresa}}",
			color : "#094FA4",
			indexLabel : "-  {y}",
			indexLabelPlacement : "outside",
			indexLabelOrientation: "vertical",
			indexLabelFontColor : "#094FA4",
			//showInLegend: "true",
			dataPoints: [
				{% for i in alta_m2 %}
				{   y: {{i.num_alta}}, label: "{{i.empresa}}"  },
				 {% endfor %}
			]
		},
		]
	});
	chart.render();

	var chart = new CanvasJS.Chart("chartContainer3", {
		theme: "theme2",//theme1
		//backgroundColor: "#B5E5F9",
		title:{
			text: "Nov 15",
			verticalAlign: "bottom",
                },
		axisX:{
			labelAngle: 91,
                },
		axisY:{
			interval: 3500,
			labelFontColor: "white",
			gridThickness: 0,
			tickColor: "white",
                },
		animationEnabled: true,   // change to true
		data: [              
		{
			// Change type to "bar", "area", "spline", "pie",etc.
			type: "stackedColumn",
			//name: "{{i.empresa}}",
			//showInLegend: "true",
			dataPoints: [
				{% for i in alta1_m3 %}
				{   y: {{i.num_alta1}}, label: "{{i.empresa}}"  },
				 {% endfor %}
			]
		},
		{
			// Change type to "bar", "area", "spline", "pie",etc.
			type: "stackedColumn",
			//name: "{{i.empresa}}",
			//showInLegend: "true",
			dataPoints: [
				{% for i in alta2_m3 %}
				{   y: {{i.num_alta2}}, label: "{{i.empresa}}"  },
				 {% endfor %}
			]
		},
		{
			// Change type to "bar", "area", "spline", "pie",etc.
			type: "stackedColumn",
			//name: "{{i.empresa}}",
			//showInLegend: "true",
			dataPoints: [
				{% for i in alta3_m3 %}
				{   y: {{i.num_alta3}}, label: "{{i.empresa}}"  },
				 {% endfor %}
			]
		},
		{
			// Change type to "bar", "area", "spline", "pie",etc.
			type: "scatter",
			//name: "{{i.empresa}}",
			color : "#094FA4",
			indexLabel : "-  {y}",
			indexLabelPlacement : "outside",
			indexLabelOrientation: "vertical",
			indexLabelFontColor : "#094FA4",
			//showInLegend: "true",
			dataPoints: [
				{% for i in alta_m3 %}
				{   y: {{i.num_alta}}, label: "{{i.empresa}}"  },
				 {% endfor %}
			]
		},
		]
	});
	chart.render();

	var chart = new CanvasJS.Chart("chartContainer4", {
		theme: "theme2",//theme1
		//backgroundColor: "#B5E5F9",
		title:{
			text: "Dic 15",
			verticalAlign: "bottom",
                },
		axisX:{
			labelAngle: 91,
                },
		axisY:{
			interval: 3700,
			labelFontColor: "white",
			gridThickness: 0,
			tickColor: "white",
                },
		animationEnabled: true,   // change to true
		data: [              
		{
			// Change type to "bar", "area", "spline", "pie",etc.
			type: "stackedColumn",
			//name: "{{i.empresa}}",
			//showInLegend: "true",
			dataPoints: [
				{% for i in alta1_m4 %}
				{   y: {{i.num_alta1}}, label: "{{i.empresa}}"  },
				 {% endfor %}
			]
		},
		{
			// Change type to "bar", "area", "spline", "pie",etc.
			type: "stackedColumn",
			//name: "{{i.empresa}}",
			//showInLegend: "true",
			dataPoints: [
				{% for i in alta2_m4 %}
				{   y: {{i.num_alta2}}, label: "{{i.empresa}}"  },
				 {% endfor %}
			]
		},
		{
			// Change type to "bar", "area", "spline", "pie",etc.
			type: "stackedColumn",
			//name: "{{i.empresa}}",
			//showInLegend: "true",
			dataPoints: [
				{% for i in alta3_m4 %}
				{   y: {{i.num_alta3}}, label: "{{i.empresa}}"  },
				 {% endfor %}
			]
		},
		{
			// Change type to "bar", "area", "spline", "pie",etc.
			type: "scatter",
			//name: "{{i.empresa}}",
			color : "#094FA4",
			indexLabel : "-  {y}",
			indexLabelPlacement : "outside",
			indexLabelOrientation: "vertical",
			indexLabelFontColor : "#094FA4",
			//showInLegend: "true",
			dataPoints: [
				{% for i in alta_m4 %}
				{   y: {{i.num_alta}}, label: "{{i.empresa}}"  },
				 {% endfor %}
			]
		},
		]
	});
	chart.render();

	var chart = new CanvasJS.Chart("chartContainer5", {
		theme: "theme2",//theme1
		//backgroundColor: "#B5E5F9",
		title:{
			text: "Ene 16",
			verticalAlign: "bottom",
                },
		axisX:{
			labelAngle: 91,
                },
		axisY:{
			interval: 3500,
			labelFontColor: "white",
			gridThickness: 0,
			tickColor: "white",
                },
		animationEnabled: true,   // change to true
		data: [              
		{
			// Change type to "bar", "area", "spline", "pie",etc.
			type: "stackedColumn",
			//name: "{{i.empresa}}",
			//showInLegend: "true",
			dataPoints: [
				{% for i in alta1_m5 %}
				{   y: {{i.num_alta1}}, label: "{{i.empresa}}"  },
				 {% endfor %}
			]
		},
		{
			// Change type to "bar", "area", "spline", "pie",etc.
			type: "stackedColumn",
			//name: "{{i.empresa}}",
			//showInLegend: "true",
			dataPoints: [
				{% for i in alta2_m5 %}
				{   y: {{i.num_alta2}}, label: "{{i.empresa}}"  },
				 {% endfor %}
			]
		},
		{
			// Change type to "bar", "area", "spline", "pie",etc.
			type: "stackedColumn",
			//name: "{{i.empresa}}",
			//showInLegend: "true",
			dataPoints: [
				{% for i in alta3_m5 %}
				{   y: {{i.num_alta3}}, label: "{{i.empresa}}"  },
				 {% endfor %}
			]
		},
		{
			// Change type to "bar", "area", "spline", "pie",etc.
			type: "scatter",
			//name: "{{i.empresa}}",
			color : "#094FA4",
			indexLabel : "-  {y}",
			indexLabelPlacement : "outside",
			indexLabelOrientation: "vertical",
			indexLabelFontColor : "#094FA4",
			//showInLegend: "true",
			dataPoints: [
				{% for i in alta_m5 %}
				{   y: {{i.num_alta}}, label: "{{i.empresa}}"  },
				 {% endfor %}
			]
		},
		]
	});
	chart.render();

	var chart = new CanvasJS.Chart("chartContainer6", {
		theme: "theme2",//theme1
		//backgroundColor: "#B5E5F9",
		title:{
			text: "Feb 16",
			verticalAlign: "bottom",
                },
		axisX:{
			labelAngle: 91,
                },
		axisY:{
			interval: 3500,
			labelFontColor: "white",
			gridThickness: 0,
			tickColor: "white",
                },
		animationEnabled: true,   // change to true
		data: [              
		{
			// Change type to "bar", "area", "spline", "pie",etc.
			type: "stackedColumn",
			//name: "{{i.empresa}}",
			//showInLegend: "true",
			dataPoints: [
				{% for i in alta1_m6 %}
				{   y: {{i.num_alta1}}, label: "{{i.empresa}}"  },
				 {% endfor %}
			]
		},
		{
			// Change type to "bar", "area", "spline", "pie",etc.
			type: "stackedColumn",
			//name: "{{i.empresa}}",
			//showInLegend: "true",
			dataPoints: [
				{% for i in alta2_m6 %}
				{   y: {{i.num_alta2}}, label: "{{i.empresa}}"  },
				 {% endfor %}
			]
		},
		{
			// Change type to "bar", "area", "spline", "pie",etc.
			type: "stackedColumn",
			//name: "{{i.empresa}}",
			//showInLegend: "true",
			dataPoints: [
				{% for i in alta3_m6 %}
				{   y: {{i.num_alta3}}, label: "{{i.empresa}}"  },
				 {% endfor %}
			]
		},
		{
			// Change type to "bar", "area", "spline", "pie",etc.
			type: "scatter",
			//name: "{{i.empresa}}",
			color : "#094FA4",
			indexLabel : "-  {y}",
			indexLabelPlacement : "outside",
			indexLabelOrientation: "vertical",
			indexLabelFontColor : "#094FA4",
			//showInLegend: "true",
			dataPoints: [
				{% for i in alta_m6 %}
				{   y: {{i.num_alta}}, label: "{{i.empresa}}"  },
				 {% endfor %}
			]
		},
		]
	});
	chart.render();

	var chart = new CanvasJS.Chart("chartContainer7", {
		theme: "theme2",//theme1
		//backgroundColor: "#B5E5F9",
		title:{
			//text: "Altas por Segmentos",
			//verticalAlign: "bottom",
                },
		axisX:{
			includeZero: true,
                },
		axisY:{
			interval: 100,
			labelFontColor: "white",
			gridThickness: 0,
			tickColor: "white",
                },
		animationEnabled: true,   // change to true
		data: [ 
		{
			// Change type to "bar", "area", "spline", "pie",etc.
			type: "stackedBar",
			name: "Ofertas < SF",
			showInLegend: "true",
			dataPoints: [
				{% for i in alta_s1 %}
				{   y: {{i.num_alta}}, label: "{{i.segmento}}"  },
				 {% endfor %}
			]
		},  
		{
			// Change type to "bar", "area", "spline", "pie",etc.
			type: "stackedBar",
			name: "Ofertas >= SF",
			showInLegend: "true",
			dataPoints: [
				{% for i in alta_s2 %}
				{   y: {{i.num_alta}}, label: "{{i.segmento}}"  },
				 {% endfor %}
			]
		},  
 		]
	});
	chart.render();

	var chart = new CanvasJS.Chart("chartContainer8", {
		theme: "theme2",//theme1
		//backgroundColor: "#B5E5F9",
		title:{
			text: "Totales",
			//verticalAlign: "bottom",
                },
		animationEnabled: true,   // change to true
		data: [
		{
			// Change type to "bar", "area", "spline", "pie",etc.
			type: "spline",
			name: "Total",
			indexLabel : "{y}",
			indexLabelFontColor : "#094FA4",
			//showInLegend: "true",
			dataPoints: [
				{% for i in alta_st %}
				{   label: "{{i.segmento}}",y: {{i.num_alta}}  },
				 {% endfor %}
			]
		},         
		]
	});
	chart.render();

	var chart = new CanvasJS.Chart("chartContainer9", {
		theme: "theme2",//theme1
		//backgroundColor: "#B5E5F9",
		title:{
			text: "Evolución",
                },
		axisY:{
			interval: 400,
			minimum: 14600,
			maximum: 18600,
			labelFontColor: "white",
			gridThickness: 0,
			tickColor: "white",
                },
		animationEnabled: true,   // change to true
		data: [
		{
			// Change type to "bar", "area", "spline", "pie",etc.
			type: "stepLine",//stepLine, area
			name: "Totales",
			indexLabel : "{y}",
			indexLabelFontColor : "#094FA4",
			showInLegend: "true",
			dataPoints: [
				{% for i in alta_tot %}
				{   label: "{{i.mes_vigencia|convert_date}}",y: {{i.total}}  },
				 {% endfor %}
			]
		},  
		]
	});
	chart.render();


    }
  </script>
{% endblock %}


