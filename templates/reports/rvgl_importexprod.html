{% extends 'reports/base.html' %}

{% load report_tags %}

{% load humanize %}

{% block title %}Distribuci√≥n por Importe de Producto{% endblock %}

{% block content %}

          <h1 class="page-header">Importe por Producto</h1>

          <div class="rows placeholders">
		<div id="chartContainer" style="height: 300px; width: 100%;"></div>
          </div>
          <h2 class="sub-header">Detalle de Operaciones</h2>
          <div class="table-responsive">
            <table class="table table-striped">
              <thead>
                <tr>
                  <th>#</th>
                  <th>Producto</th>
                  <th>Importe</th>
                </tr>
              </thead>
              <tbody>
		{% for a in importexprod %}
		<tr>
                  <td></td>
                  <td>{{a.producto_esp}}</td>
                  <td>S/. {{a.sum_importe|intcomma}}</td>
                </tr>
		{% endfor %}
              </tbody>
            </table>
          </div>
{% endblock %}

{% block script_final %}
  <script type="text/javascript">
    window.onload = function () {
	var chart = new CanvasJS.Chart("chartContainer", {
		theme: "theme2",//theme1
		title:{
			text: "Importe solicitado por Producto"              
		},
		animationEnabled: true,   // change to true
		data: [              
		{
			// Change type to "bar", "area", "spline", "pie",etc.
			type: "column",
			dataPoints: [
				{% for i in importexprod %}
				{ label: "{{i.producto_esp}}",  y: {{i.sum_importe}}/1000000  },
				{% endfor %}
			]
		}
		],
                axisY:{
                  prefix: "S/.",
                  suffix: "M"
                }
	});
	chart.render();
    }
  </script>
{% endblock %}

