{% extends 'reports/base.html' %}

{% load report_tags %}

{% load humanize %}

{% block title %}Reporte de Ofertas TC{% endblock %}

{% block content %}

          <h1 class="page-header">Resumen Oferta</h1>
          <div class="form-inline">
            &nbsp;&nbsp;
            <label class="control-label">Periodo:&nbsp;&nbsp;</label>
            <select class="form-control" id="detalles_periodo">
              <option value="201604" selected>Abril 2016</option>
              <option value="201603">Marzo 2016</option>
            </select>
            &nbsp;&nbsp;
            <label class="control-label">Segmento:&nbsp;&nbsp;</label>
            <select class="form-control" id="detalles_segmento">
	    {% for a in control_segmentos %}
              <option>{{a.segmento}}</option>
	    {% endfor %}
            </select>
            <input type="hidden" id="csrfmiddlewaretoken" value="{{csrf_token}}">
          </div>
          <div class="rows placeholders">
		<div id="chartContainer" style="height: 300px; width: 100%;"></div>
          </div>
          <h2 class="sub-header">Detalle Ofertas</h2>
          <div class="table-responsive">
            <table class="table table-striped">
              <thead>
                <tr>
                  <th>#</th>
                  <th>Cant. Ofertas</th>
                  <th>Monto Oferta</th>
                  <!--<th>Exoneración VL</th>
                  <th>Exoneración VD</th>
                  <th>Exoneración VL y VD</th>
                  <th>No Exoneración</th>-->
              </thead>
              <tbody id="tabla_ofertas">
		{% for a in detalles %}
		<tr>
                  <td>Tarjeta</td>
                  <td>{{a.q_tc|intcomma}}</td>
                  <td>{{a.monto_tc|intcomma}}</td>
                </tr>
		<tr>
                  <td>Consumo</td>
                  <td>{{a.q_pld|intcomma}}</td>
                  <td>{{a.monto_pld|intcomma}}</td>
                </tr>
		<tr>
                  <td>Auto</td>
                  <td>{{a.q_veh|intcomma}}</td>
                  <td>{{a.monto_veh|intcomma}}</td>
                </tr>
		<tr>
                  <td>subrogación</td>
                  <td>{{a.q_subrogacion|intcomma}}</td>
                  <td>{{a.monto_subrogacion|intcomma}}</td>
                </tr>
		<tr>
                  <td>TC Entry Level</td>
                  <td>{{a.q_tc_entry_level|intcomma}}</td>
                  <td>{{a.monto_tc_entry_level|intcomma}}</td>
                </tr>
		<tr>
                  <td>Renovados</td>
                  <td>{{a.q_renovado|intcomma}}</td>
                  <td>{{a.monto_renovado|intcomma}}</td>
                </tr>
		<tr>
                  <td>Auto de 2da</td>
                  <td>{{a.q_auto_2da|intcomma}}</td>
                  <td>{{a.monto_auto_2da|intcomma}}</td>
                </tr>
		<tr>
                  <td>Adelanto de Sueldo</td>
                  <td>{{a.q_adelanto_sueldo|intcomma}}</td>
                  <td>{{a.monto_adelanto_sueldo|intcomma}}</td>
                </tr>
		<tr>
                  <td>Efectivo Plus</td>
                  <td>{{a.q_efectivo_plus|intcomma}}</td>
                  <td>{{a.monto_efectivo_plus|intcomma}}</td>
                </tr>
		<tr>
                  <td>Prestamo al Toque</td>
                  <td>{{a.q_prestamo_inmediato|intcomma}}</td>
                  <td>{{a.monto_prestamo_inmediato|intcomma}}</td>
                </tr>
		<tr>
                  <td>Incremento de Linea</td>
                  <td>{{a.q_incr_linea|intcomma}}</td>
                  <td>{{a.monto_incr_linea|intcomma}}</td>
                </tr>
		{% endfor %}
              </tbody>
            </table>
          </div>
{% endblock %}

<!--
{% block script_final %}
  <script type="text/javascript">
    window.onload = function () {
	var chart = new CanvasJS.Chart("chartContainer", {
		theme: "theme2",//theme1
		title:{
			text: "Cantidades por Ofertas",
                },
		animationEnabled: true,   // change to true
		data: [              
		{
			// Change type to "bar", "area", "spline", "pie",etc.
			type: "spline",
			name: "Tarjeta",
			showInLegend: "true",
			dataPoints: [
				{% for i in ofertas %}
				{ label: "{{i.segmento}}",  y: {{i.q_tc}}  },
				{% endfor %}
			]
		},
		{
			// Change type to "bar", "area", "spline", "pie",etc.
			type: "spline",
			name: "Consumo",
			showInLegend: "true",
			dataPoints: [
				{% for i in ofertas %}
				{ label: "{{i.segmento}}",  y: {{i.q_pld}}  },
				{% endfor %}
			]
		}
		{
			// Change type to "bar", "area", "spline", "pie",etc.
			type: "spline",
			name: "Auto",
			showInLegend: "true",
			dataPoints: [
				{% for i in ofertas %}
				{ label: "{{i.segmento}}",  y: {{i.q_veh}}  },
				{% endfor %}
			]
		},
		{
			// Change type to "bar", "area", "spline", "pie",etc.
			type: "spline",
			name: "Subrogación",
			showInLegend: "true",
			dataPoints: [
				{% for i in ofertas %}
				{ label: "{{i.segmento}}",  y: {{i.q_subrogacion}}  },
				{% endfor %}
			]
		},
		{
			// Change type to "bar", "area", "spline", "pie",etc.
			type: "spline",
			name: "TC Entry Level",
			showInLegend: "true",
			dataPoints: [
				{% for i in ofertas %}
				{ label: "{{i.segmento}}",  y: {{i.q_tc_entry_level}}  },
				{% endfor %}
			]
		},
		{
			// Change type to "bar", "area", "spline", "pie",etc.
			type: "spline",
			name: "Renovados",
			showInLegend: "true",
			dataPoints: [
				{% for i in ofertas %}
				{ label: "{{i.segmento}}",  y: {{i.q_renovado}}  },
				{% endfor %}
			]
		},
		{
			// Change type to "bar", "area", "spline", "pie",etc.
			type: "spline",
			name: "Auto 2da",
			showInLegend: "true",
			dataPoints: [
				{% for i in ofertas %}
				{ label: "{{i.segmento}}",  y: {{i.q_auto_2da}}  },
				{% endfor %}
			]
		},
		{
			// Change type to "bar", "area", "spline", "pie",etc.
			type: "spline",
			name: "Adelanto Sueldo",
			showInLegend: "true",
			dataPoints: [
				{% for i in ofertas %}
				{ label: "{{i.segmento}}",  y: {{i.q_adelanto_sueldo}}  },
				{% endfor %}
			]
		},
		{
			// Change type to "bar", "area", "spline", "pie",etc.
			type: "spline",
			name: "Efectivo Plus",
			showInLegend: "true",
			dataPoints: [
				{% for i in ofertas %}
				{ label: "{{i.segmento}}",  y: {{i.q_efectivo_plus}}  },
				{% endfor %}
			]
		},
		{
			// Change type to "bar", "area", "spline", "pie",etc.
			type: "spline",
			name: "Prestamo al Toque",
			showInLegend: "true",
			dataPoints: [
				{% for i in ofertas %}
				{ label: "{{i.segmento}}",  y: {{i.q_prestamo_inmediato}}  },
				{% endfor %}
			]
		},
		{
			// Change type to "bar", "area", "spline", "pie",etc.
			type: "spline",
			name: "Incremento Linea",
			showInLegend: "true",
			dataPoints: [
				{% for i in ofertas %}
				{ label: "{{i.segmento}}",  y: {{i.q_incr_linea}}  },
				{% endfor %}
			]
		}
		]
	});
	chart.render();
    }
  </script>
{% endblock %}-->


